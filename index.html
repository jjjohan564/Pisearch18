<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html>
<head>
    <title>Pi Decimal Searcher</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Light mode (default) */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f7;
            color: #1d1d1f;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        
        .header {
            padding: 20px;
            border-bottom: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: border-color 0.3s;
        }
        
        .title-group {
            display: flex;
            align-items: center;
        }
        
        .pi-symbol {
            font-size: 24px;
            font-weight: bold;
            color: #0066cc;
            margin-right: 10px;
            transition: color 0.3s;
        }
        
        .title {
            font-size: 20px;
            font-weight: 600;
            margin: 0;
        }
        
        .mode-toggle {
            display: flex;
            align-items: center;
        }
        
        .toggle-button {
            background-color: #0066cc;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .toggle-button:hover {
            background-color: #0055aa;
        }
        
        .search-box {
            padding: 20px;
            border-bottom: 1px solid #e5e5e5;
            transition: border-color 0.3s;
        }
        
        .search-info {
            text-align: center;
            margin-bottom: 10px;
            color: #86868b;
            transition: color 0.3s;
        }
        
        .search-container {
            display: flex;
            margin-top: 10px;
        }
        
        .search-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #d2d2d7;
            border-right: none;
            border-radius: 8px 0 0 8px;
            font-size: 16px;
            outline: none;
            background-color: white;
            color: #1d1d1f;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        
        .search-button {
            padding: 10px 20px;
            background-color: #0066cc;
            color: white;
            border: none;
            border-radius: 0 8px 8px 0;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .search-button:hover {
            background-color: #0055aa;
        }
        
        .error {
            margin-top: 10px;
            padding: 10px;
            background-color: #ffdddd;
            color: #ff3b30;
            border-radius: 8px;
            display: none;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .results {
            padding: 20px;
            display: none;
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 14px;
            color: #86868b;
            transition: color 0.3s;
        }
        
        .result-item {
            margin-bottom: 15px;
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            overflow: hidden;
            transition: border-color 0.3s;
        }
        
        .result-position {
            display: flex;
            justify-content: space-between;
            padding: 10px 15px;
            background-color: #f5f5f7;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .position-badge {
            background-color: #0066cc;
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .result-context {
            padding: 15px;
        }
        
        .context-label {
            font-weight: 500;
            margin-bottom: 8px;
        }
        
        .context-value {
            font-family: monospace;
            padding: 10px;
            background-color: #f5f5f7;
            border-radius: 6px;
            overflow-x: auto;
            word-break: break-all;
            transition: background-color 0.3s;
        }
        
        .highlight {
            color: #0066cc;
            font-weight: bold;
            transition: color 0.3s;
        }
        
        .footer {
            padding: 15px;
            text-align: center;
            font-size: 12px;
            color: #86868b;
            border-top: 1px solid #e5e5e5;
            transition: color 0.3s, border-color 0.3s;
        }
        
        /* Dark mode styles */
        body.dark-mode {
            background-color: #000000;
            color: #f5f5f7;
        }
        
        body.dark-mode .container {
            background-color: #1c1c1e;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        
        body.dark-mode .header {
            border-bottom: 1px solid #38383a;
        }
        
        body.dark-mode .pi-symbol {
            color: #0a84ff;
        }
        
        body.dark-mode .toggle-button {
            background-color: #0a84ff;
        }
        
        body.dark-mode .toggle-button:hover {
            background-color: #409cff;
        }
        
        body.dark-mode .search-box {
            border-bottom: 1px solid #38383a;
        }
        
        body.dark-mode .search-info {
            color: #adadaf;
        }
        
        body.dark-mode .search-input {
            background-color: #2c2c2e;
            color: #f5f5f7;
            border-color: #38383a;
        }
        
        body.dark-mode .search-button {
            background-color: #0a84ff;
        }
        
        body.dark-mode .search-button:hover {
            background-color: #409cff;
        }
        
        body.dark-mode .error {
            background-color: #5a1a1a;
            color: #ff453a;
        }
        
        body.dark-mode .result-header {
            color: #adadaf;
        }
        
        body.dark-mode .result-item {
            border-color: #38383a;
        }
        
        body.dark-mode .result-position {
            background-color: #2c2c2e;
        }
        
        body.dark-mode .position-badge {
            background-color: #0a84ff;
        }
        
        body.dark-mode .context-value {
            background-color: #2c2c2e;
        }
        
        body.dark-mode .highlight {
            color: #0a84ff;
        }
        
        body.dark-mode .footer {
            color: #adadaf;
            border-top: 1px solid #38383a;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="title-group">
                <div class="pi-symbol">Ï€</div>
                <h1 class="title">Pi Decimal Searcher</h1>
            </div>
            <div class="mode-toggle">
                <button onclick="toggleDarkMode()" class="toggle-button" id="darkModeButton">
                    Dark Mode
                </button>
            </div>
        </div>
        
        <div class="search-box">
            <div class="search-info">Search the first 50,000 decimal places of Pi</div>
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Enter digits (e.g., 2701)">
                <button onclick="searchPi()" class="search-button">Search</button>
            </div>
            <div id="errorMessage" class="error"></div>
        </div>
        
        <div id="resultsSection" class="results">
            <div class="result-header">
                <span id="resultsCount"></span>
                <span id="searchedQuery"></span>
            </div>
            <div id="resultsList"></div>
        </div>
        
        <div class="footer">
            <p>Pi = 3.14159...</p>
        </div>
    </div>

    <script>
        // Pi digits (first 50,000 decimal places without the leading 3)
        var piDigits = "1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679" +
            "8214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196" +
            "4428810975665933446128475648233786783165271201909145648566923460348610454326648213393607260249141273" +
            "7245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094" +
            "3305727036575959195309218611738193261179310511854807446237996274956735188575272489122793818301194912" +
            "9833673362440656643086021394946395224737190702179860943702770539217176293176752384674818467669405132" +
            "0005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235" +
            "4201995611212902196086403441815981362977477130996051870721134999999837297804995105973173281609631859" +
            "5024459455346908302642522308253344685035261931188171010003137838752886587533208381420617177669147303" +
            "5982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989" +
            "3809525720106548586327886593615338182796823030195203530185296899577362259941389124972177528347913151" +
            "5574857242454150695950829533116861727855889075098381754637464939319255060400927701671139009848824012" +
            "8583616035637076601047101819429555961989467678374494482553797747268471040475346462080466842590694912" +
            "9331367702898915210475216205696602405803815019351125338243003558764024749647326391419927260426992279" +
            "6782354781636009341721641219924586315030286182974555706749838505494588586926995690927210797509302955" +
            "3211653449872027559602364806654991198818347977535663698074265425278625518184175746728909777727938000" +
            "8164706001614524919217321721477235014144197356854816136115735255213347574184946843852332390739414333" +
            "4547762416862518983569485562099219222184272550254256887671790494601653466804988627232791786085784383" +
            "8279679766814541009538837863609506800642251252051173929848960841284886269456042419652850222106611863" +
            "0674427862203919494504712371378696095636437191728746776465757396241389086583264599581339047802759009" +
            "9465764078951269468398352595709825822620522489407726719478268482601476990902640136394437455305068203" +
            "4962524517493996514314298091906592509372216964615157098583874105978859597729754989301617539284681382" +
            "6868386894277415599185592524595395943104997252468084598727364469584865383673622262609912460805124388" +
            "4390451244136549762780797715691435997700129616089441694868555848406353422072225828488648158456028506" +
            "0168427394522674676788952521385225499546667278239864565961163548862305774564980355936345681743241125" +
            "1507606947945109659609402522887971089314566913686722874894056010150330861792868092087476091782493858" +
            "9009714909675985261365549781893129784821682998948722658804857564014270477555132379641451523746234364" +
            "5428584447952658678210511413547357395231134271661021359695362314429524849371871101457654035902799344" +
            "0374200731057853906219838744780847848968332144571386875194350643021845319104848100537061468067491927" +
            "8191197939952061419663428754440643745123718192179998391015919561814675142691239748940907186494231961" +
            "5679452080951465502252316038819301420937621378559566389377870830390697920773467221825625996615014215" +
            "0306803844773454920260541466592520149744285073251866600213243408819071048633173464965145390579626856" +
            "1005508106658796998163574736384052571459102897064140110971206280439039759515677157700420337869936007" +
            "2305587631763594218731251471205329281918261861258673215791984148488291644706095752706957220917567116" +
            "7229109816909152801735067127485832228718352093539657251210835791513698820914442100675103346711031412" +
            "6711136990865851639831501970165151168517143765761835155650884909989859982387345528331635507647918535" +
            "8932261854896321329330898570642046752590709154814165498594616371802709819943099244889575712828905923" +
            "2332609729971208443357326548938239119325974636673058360414281388303203824903758985243744170291327656" +
            "1809377344403070746921120191302033038019762110110044929321516084244485963766983895228684783123552658" +
            "2131449576857262433441893039686426243410773226978028073189154411010446823252716201052652272111660396" +
            "6655730925471105578537634668206531098965269186205647693125705863566201855810072936065987648611791045" +
            "3348850346113657686753249441668039626579787718556084552965412665408530614344431858676975145661406800" +
            "7002378776591344017127494704205622305389945613140711270004078547332699390814546646458807972708266830" +
            "6343285878569830523580893306575740679545716377525420211495576158140025012622859413021647155097925923" +
            "0990796547376125517656751357517829666454779174501129961489030463994713296210734043751895735961458901" +
            "9389713111790429782856475032031986915140287080859904801094121472213179476477726224142548545403321571" +
            "8530614228813758504306332175182979866223717215916077166925474873898665494945011465406284336639379003" +
            "9769265672146385306736096571209180763832716641627488880078692560290228472104031721186082041900042296" +
            "6171196377921337575114959501566049631862947265473642523081770367515906735023507283540567040386743513" +
            "6222247715891504953098444893330963408780769325993978054193414473774418426312986080998886874132604721" +
            "5695162396586457302163159819319516735381297416772947867242292465436680098067692823828068996400482435" +
            "4037014163149658979409243237896907069779422362508221688957383798623001593776471651228935786015881617" +
            "5578297352334460428151262720373431465319777741603199066554187639792933441952154134189948544473456738" +
            "3162499341913181480927777103863877343177207545654532207770921201905166096280490926360197598828161332" +
            "3166636528619326686336062735676303544776280350450777235547105859548702790814356240145171806246436267" +
            "9456127531813407833033625423278394497538243720583531147711992606381334677687969597030983391307710987" +
            "0408591337464144282277263465947047458784778720192771528073176790770715721344473060570073349243693113" +
            "8350493163128404251219256517980694113528013147013047816437885185290928545201165839341965621349143415" +
            "9562586586557055269049652098580338507224264829397285847831630577775606888764462482468579260395352773" +
            "4803048029005876075825104747091643961362676044925627420420832085661190625454337213153595845068772460" +
            "2901618766795240616342522577195429162991930645537799140373404328752628889639958794757291746426357455" +
            "2540790914513571113694109119393251910760208252026187985318877058429725916778131496990090192116971737" +
            "2784768472686084900337702424291651300500516832336435038951702989392233451722013812806965011784408745" +
            "1960121228599371623130171144484640903890644954440061986907548516026327505298349187407866808818338510" +
            "2283345085048608250393021332197155184306354550076682829493041377655279397517546139539846833936383047" +
            "4611996653858153842056853386218672523340283087112328278921250771262946322956398989893582116745627010" +
            "2183564622013496715188190973038119800497340723961036854066431939509790190699639552453005450580685501" +
            "9567302292191393391856803449039820595510022635353619204199474553859381023439554495977837790237421617" +
            "2711172364343543947822181852862408514006660443325888569867054315470696574745855033232334210730154594" +
            "0516553790686627333799585115625784322988273723198987571415957811196358330059408730681216028764962867" +
            "4460477464915995054973742562690104903778198683593814657412680492564879855614537234786733039046883834" +
            "3634655379498641927056387293174872332083760112302991136793862708943879936201629515413371424892830722" +
            "0126901475466847653576164773794675200490757155527819653621323926406160136358155907422020203187277605" +
            "2772190055614842555187925744439150820689569369771420691484004660240295182037331665770352" +
            "1016442437805700295617662325470020054314985992295339967854326417974062756314770961991394077" +
            "9812871609911637832994605099665070244722957948128213404000886699596828078192804615387852035" +
            "2195886288293140339289032441846076792000418376252366258527627679950037874512543897941930623" +
            "2224893223958394766559517137450557673415822453780304369857696236592460139788241057607683440" +
            "2492611229386358003615901709403519186890005864193039910237811050044439290348149777505910299" +
            "7408037825615023484829485348206243425112698523585252876254919264898651795556366450733752133" +
            "3001225294558073988527037935784353833354996962038005151171709338929918077390905498388607231" +
            "6244616968777020862456045048193701004474613755334531920219780888482601016000447942232026088" +
            "5991941756928748496352755698913351456064451181556325045997592326926233138957095625897022726" +
            "8305452961480653022464137881324560749215780715262288179250270804479019409107382156369568363" +
            "5758360399232266131425587789811498277232509241359193424253233585017875167562897614322221339" +
            "7640017395051065878975360995268475501006071597685118929260053094172337064957812534233108406" +
            "2962226196467860293989010650156838571522701234072737626469638903173693522113968100880280507" +
            "5392818859535053091853560165471254474905933328107856210488118057356600559499601092396603532" +
            "8066361883964132294707613443696818105400372385193097652075721409316422906957504981510341917" +
            "5651783590554694612898426996832193161432996568929579201394338969895814622818288374841167618" +
            "1286416757173952171216700618776289234272020390456702375329007370579900742618421489904687383" +
            "7238503564526665088317506558901265201250066635439933296702299510423050257274433231666022078" +
            "8407437443583746640306877203149077234041384597798988850222359421138428257632558729091350476" +
            "2481409832179635148787298697219514443459152525541309124869661295205930384942979094553893944" +
            "5503643416013755813077644089689123472252818484493469348930087166670627830915069678986222699" +
            "0669406238052436441488307276335262376325356138501804261686322980251628045021843168302892302" +
            "7068718180498513326658227207101538484060994787743622330988738599909602411800707485933676644" +
            "3721147152191019905941349604708956088378954304690555824877328944307682444132733764170945653" +
            "4434400853513799121265781583863136260770337134360065462768161607273531017611265884584485724" +
            "4122188241942906365244414961695010182818751643956050678201546981496541193414482954922543581" +
            "8907978556260290398263613254074612428166365772378315964170386643530439026548041770268727472" +
            "9186373154918440492219108733037451790202166804492260631838678354955541520247127479357271947" +
            "8339363830474611996653467377682987571154636965264235461224471907962894140487872520552629587" +
            "0432317592654975810119857473317712366797484515878607984246062424139732682087576182064518985" +
            "0458419701475608885942270252538862462174824752770834224338663362859115474236010172657043522" +
            "0005586193190845312960868403795596388824960521675667389458996352925588131437277350990748890" +
            "1912944863574568086231548007183529174548380946154223429979921488666140258778842487952142587" +
            "9361490387708699119785073368742295536959219907262918398032252623304884628078112759322198771" +
            "3739292214918269653497958257307095800878156542535719399027667724061648456249547684485585544" +
            "3699012969250628089562330311834845409583057896753075903931582496233439316745621624868267671" +
            "5024714470564742622299161771622553698694264335578988334147906179545304679121981639180048894" +
            "9099778659154180865136642629293583473546611188533514175982025277339171203262625585918018699" +
            "4033133587494345415135549606171425889157263050813400294096771148923790813853268355090067432" +
            "5387368173572283992353851593371799868349671658862158394584743767174304675934751391252532336" +
            "0480584436283512774738516391628244034924734729664549610877343198461293127283669417947204366" +
            "1599055415562404597774056364480179088955561522071446539236498090760702341558495844806471139" +
            "1481532394019292333311791577185146603813512573829586161514303985372889953531151503886243766" +
            "2126163691359880979025613734749587755349690182608572308934489431046142343630741944118765734" +
            "1628192521089522923127238396271568213493333752647204822009040784033581130146105687473115011" +
            "6687798870887867108065824461193107289335708765266663285929546315847613955272031204404746099" +
            "4365869001311765610307142756727886276650114686235722341616404202881697836810211855302767997" +
            "5068183682178019863634922472000575057108867740707332966406296288356220087192540713261956602" +
            "6932219096800940814700289637946056396279930339161388589084310882487559966005312531011109773" +
            "3748412656968013561586370536504396394692891741701470201923574489878599821673520862223431514" +
            "0399785742866742086799555322394593002737828944879108676819789809992032110273947633822981609" +
            "1478224524497295642366707755202577195659079833148796955404659371990073975601624513093951029" +
            "7775346558987082136790018192667016016127932292369913698492159539888437840689589252492407568" +
            "2354939393100004235043384012507915703156599086940186413199425356255013609652536768887362894" +
            "9937967086430589542932765121555804982189134687263375214689915508526629591744893280895755462" +
            "7230391545563146776568752568132870346609841362650095281539429819448881794339412947240866121" +
            "1068488277974680298632754892311865398688641654785526726603346660793372838526622674226365893" +
            "2588318057879472246885326005754444743344161854249068461163373116046984868759551691951404361" +
            "9572247487911210978610593995730139118781716962737533273132342781706177453610101048576213666" +
            "1318122792758507256168667150516892936327786037242108863958300488419854822133616431812713107" +
            "0546727091905736530071315099953022523212222344325023227713770714701589779511985949242513606" +
            "7355663760120617226731470734567072561450586717028382274817889613476371498540810450669311993" +
            "0204983686645459855981055972033085901404887712777621667942315415434011065754017580171632916" +
            "3290965565639237275469878055288771878291865641350783023775183980660388939257516132958066432" +
            "3386464577195621768814362590808366267501367732958283074830158682640971666342891924536872904" +
            "0272996491080376093026867339646801637465340958236372823871876526007281866071104732253487838" +
            "7943533287890583626702401933010215414199459358601022238829200273533574634778155857706350559" +
            "0884753844957043673845040551171543099174890302633173251560309608549266187277353972330738197" +
            "6414307342501686779077546596137575121685641056152978805570357130171018611297960508082786482" +
            "5016545732563237895194794141064380070022775282484825259024407180317860513566199209901436545" +
            "6788092424194984108188340095836519892761359240057346972530003768653211017031122204947530063" +
            "2974524725441106603234885156469250522691518553909703929762350089730218986315903255576951793" +
            "2790924208477601713082315342435335731183879432499694083404418753262799993111044561814293779" +
            "7454463028593502161780271324226652727768965831372998872346922651788870994534267978221078652" +
            "9913809515135747385955208117242566201088429403628519560700721426532680800296415433888871501" +
            "3977889679879862856301690859305942464853328328813964678503329802554328242337972531803747401" +
            "5708305968139815203710627244147254914776150947442109168904482919391841089247761040822988652" +
            "8405327901453334311853476611550901946157629562781631720880313304005013155197759285036055856" +
            "9539604271374590684602935691617316666244699448639193009607248701075214163422366003844149605" +
            "8161742176703585809472479345790456572368117512244120120154576997368255381569720508624413161" +
            "1050592041132579264830041605880311352535915700768256486346087562796886241745955022949723818" +
            "7034987414357252175421580371730519221063272734345860201458094321604100450456306179498337394" +
            "7828162987057495972382961689453804025437230262900784398240999931804895221373391410187227769" +
            "7262486080990507043606430794193921456887908428635688346831695595263091281379300207769069415" +
            "6110172918431589531211449476476203402679198539621464502959058399861220695804620354183346058" +
            "1002648548986271622119539149432501996148722181837954752292140314902613628308753834414589300" +
            "9835291238513396441936972231000044669679700213881967002121755661864301526919240954326508115" +
            "2642391014527403835250095831786687498954633446245030285708406077252160596748156487290531494" +
            "0500718207439768603962029772610732842858267254294943643783738370067941380020615154291670075" +
            "9748816929449034635538896709316500365644487499107654615635519784839699206921391395429886497" +
            "0608652371864650641433263884605271212288205304640673546701396900911559765340853659628809219" +
            "1073206936188409280367279708647194337841656306089503843932862634472705037054880139812669807" +
            "5091947724193335181541255452232159281128224515319673537054283053208127159713632182562877986" +
            "8359881333110944067666338156895768468222139172973603403049948923735598546539752100950409562" +
            "7435623667281885372933582334816711134650101111832958143860210405280281010491358788139675006" +
            "3496924398231443005593066839744202400720913970951229840636971277280741161769465697953334602" +
            "1833156583603984078055686064148358924267241164042833482364415363026028073072309175301050967" +
            "3292506192705642478936449903307476783522164283281776850915879023487793677058511061213677762" +
            "3993214673270166177897643691955432757371733581452659220624445253070884275274935879580141650" +
            "9372217711270427622946566040379564167836424090122169483232764242273552485659799860334667587" +
            "3845093119802407072048857537923748930454837745567333739344725216307589831855894493264252408" +
            "2291829237022963457513862855582048197532553776277264769436144019326028439722809229481051134" +
            "6085719627908207566269620147227722479847621767184527929503090870890290782028965478332437031" +
            "0209672726369228380139083139355334472637649087043428971990280782700790649939362368938903694" +
            "3242440663624582239309812897947090775884465435506321106637642983913628736576538859522391349" +
            "2442010109807490945397530209852403450325889993045127819351995970639521862491278238809562386" +
            "0719273209720661025986244648092031464616603008138307227656706226881405808398932293899123540" +
            "9975738299154037458117071516679997119836312891259803383848575478434729487371056281991206856" +
            "2081130501486300242615693004380933169046678667374553954754649499698484235002517674972299885" +
            "1158105166305540326654728068605211842698006874972516403877623295018076242289298305309186037" +
            "6806932044751344719339818724378294891062899700705796462445099865669359398186894306240903279" +
            "8576030527565573199985116457863466597060861753255991619823773034827433123527450883630453051" +
            "4277281063347228947580326694694543083772061597017147873923464172745317005904271514329493380" +
            "9417821340658369078764732676371064027046754889722532660260252474555245383352663539644997835" +
            "6857242014141513795943528252699894967869073111207998300999845490029515350569866205953376294" +
            "1441680235255824779204987140848776225058013258668459192604126414518728564167316006482288501" +
            "6761951955202526119276197597606233566605051615444881890500227645506445088206992083029144741" +
            "5838292994746781176131764306986487758342867333292675637739295385890774991102161421698121683" +
            "4614756714181773439176966838076703276425519185883969773767403643389069104147899562883348148" +
            "7641061049730214224123883170142834081222060753504972143415954393538054881079022756599951975" +
            "3764371403872085744796575352770246837446129308769209225858416099054662775150553033283072055" +
            "5339909248344577925492014568584209287325251707920917629110897021433150376730279863364007599" +
            "6155435242242928284953776534104524946386550350200451550254183371437569844089178618290559705" +
            "6478385392570885040602635324474524245736627125914582255827993087537067997006985049254349420" +
            "8706372962369920193030846546301299549336220553710038309355212763568615125913213438866723361" +
            "2248477663148427694888996593299824891845975459421380639611797023713302601929548814999154494" +
            "9953920843991686672983361481380539749538423717304474654204700319605668801288770590444711420" +
            "7242857848677037056994560694725017549069908012420664408051772007697611684824998282170764340" +
            "9958916111424363325978431613011945767468859695499421900605226043411183356322520948137878607" +
            "0547201728113457747867336920254281681452480834954713959293828089623903289015647877842617339" +
            "7179918684594336910855644429398713820528117496396457538772235909339107685486756608994830143" +
            "7965816663398429856572193817176108253932862879826906750055903023056944869432419246797360802" +
            "5042659005432175169008139722969900835404185709972524945076774799051283042315470515920583624" +
            "7193311318710387195501074351720485839739616365530959358436095261048279020135317471981513008" +
            "7253217111962248378918939289011443097566757132412256719639760453304159022803261055841475292" +
            "5585028161863054450724627449201290786612113907857598094778294917798332529452218689918324497" +
            "2607144564021988842613673369227343667699276893402410986171585879627287675984284390016277568" +
            "6738227196320140316425746905843217375566278757290923945693523790578220126366991703054677420" +
            "2136748052154382000245342608678812436631420618694113874342431228364538900800374968610059744" +
            "9325050792184546559986589786230649617446870754332504631562329392683858073460836430227355723" +
            "4196460840820534928734023346998438161397433155667033459591725173657401929758839474315306831" +
            "2124733731968904487991119691112074853040901148780629886650338120849049120889709811341461127" +
            "0466585006837801193680823294957437213895323763612757297879798646873025068415214646064262289" +
            "9624301515169510894046708429834441864182041622284590331761872513076232361976769596573968565" +
            "1559405181387883526896255025777448688410103500117034612359743883288326301577687458654557260" +
            "2778288553557771440669210490622018984885536027994500845597535374794366485758413523865072180" +
            "0969571754986233349303924983344218195889596792938864788367095975173851190120429224435220656" +
            "2895762738853274916447960961390382491304655023874102278743276381761626762999176504835240195" +
            "6605880294380937339022191263134152711004081667671731524618414109126086434232982566263461368" +
            "1023683875487638420078461343214689064218454872442402015309457316746553951775343816065630998" +
            "8401115520370037872287921089357987487799924965461284371000963051182971879868267869466510644" +
            "3428789466992161830315056693652087941177476555553592504343052489997784566163263270273596322" +
            "8462706644809129671347071301457021177355467701160281885336835578682622024956303066606752506" +
            "4572952764606363673763957042953833990786191051720541629524184908859542387386963860700522699" +
            "5522057967384251192272431858212753417175234858112507993918665905401081842584688994994063196" +
            "8880613681999624743535428290069589744392478875123927761866788835593469673345659404389936882" +
            "2499020598585743843694992003988654621962088175324573559399521124014527486808736716769521939" +
            "1486756954100582309149194486137601145838517863266294069152245556657295454160259292708728389" +
            "8855642222658193053226183439629865428541288664263467151518681104301767499267257957087247162" +
            "9099723069248198270290953151624102419892028262553184254326630624132909198484726711981605988" +
            "8177784298369901053393006463823406884697152399204279456312656557269696023561503469584662825" +
            "9892778553082119044997509358808527684858522927987863266257429553891219601502133739813546611" +
            "6704664806225152262729333270285372894307617951206988573683385209324417970207369846339306211" +
            "4740122737963857622764055587650568606055461855605162287911091608202471958687520916199646183" +
            "0391418268689334630660842637257113424525317803693359992085450188145485241018329963304497967" +
            "8956702317350923742774002285637299307245677587943542065286518958710612557782284700484091880" +
            "0706359658640818340709961235155743545118585864712181551123608665540346348113124974457563028" +
            "9376496456372892328623155135735687883167026165590860953376836994775209040989069374726145129" +
            "7906736647349556309178912749948908126858029993444901189436102122088995539488753641776956308" +
            "8283308660651584780847905948905824149574319987953746322836058115028671994191380925383975816";

        
        // Function to toggle dark mode
        function toggleDarkMode() {
            const body = document.body;
            const button = document.getElementById('darkModeButton');
            
            // Toggle dark mode class
            body.classList.toggle('dark-mode');
            
            // Update button text
            if (body.classList.contains('dark-mode')) {
                button.textContent = 'Light Mode';
                localStorage.setItem('darkMode', 'true');
            } else {
                button.textContent = 'Dark Mode';
                localStorage.setItem('darkMode', 'false');
            }
        }
        
        // Check if dark mode preference is stored in localStorage
        document.addEventListener('DOMContentLoaded', function() {
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
                document.getElementById('darkModeButton').textContent = 'Light Mode';
            }
        });
        
        // Function to handle Pi search
        function searchPi() {
            var query = document.getElementById("searchInput").value.trim();
            var errorMessage = document.getElementById("errorMessage");
            var resultsSection = document.getElementById("resultsSection");
            var resultsCount = document.getElementById("resultsCount");
            var searchedQuery = document.getElementById("searchedQuery");
            var resultsList = document.getElementById("resultsList");
            
            // Validate input
            if (!query) {
                errorMessage.textContent = "Please enter a number sequence";
                errorMessage.style.display = "block";
                resultsSection.style.display = "none";
                return;
            }
            
            if (!/^\d+$/.test(query)) {
                errorMessage.textContent = "Please enter only digits (0-9)";
                errorMessage.style.display = "block";
                resultsSection.style.display = "none";
                return;
            }
            
            // Hide error message
            errorMessage.style.display = "none";
            
            // Search for the pattern in Pi
            var results = [];
            var position = piDigits.indexOf(query);
            
            if (position === -1) {
                errorMessage.textContent = "The sequence \"" + query + "\" was not found in the first 50,000 decimals of Pi";
                errorMessage.style.display = "block";
                resultsSection.style.display = "none";
                return;
            }
            
            // Collect all occurrences
            while (position !== -1) {
                // Calculate decimal place (add 1 because we're skipping the 3 at the beginning)
                var decimalPlace = position + 1;
                
                // Get context (5 digits before and 5 after)
                var startIdx = Math.max(0, position - 5);
                var endIdx = Math.min(piDigits.length, position + query.length + 5);
                
                var prefix = piDigits.substring(startIdx, position);
                var suffix = piDigits.substring(position + query.length, endIdx);
                
                results.push({
                    position: decimalPlace,
                    prefix: prefix,
                    query: query,
                    suffix: suffix
                });
                
                // Find next occurrence
                position = piDigits.indexOf(query, position + 1);
            }
            
            // Display results
            resultsCount.textContent = "Found " + results.length + " occurrence(s)";
            searchedQuery.textContent = "Searched: \"" + query + "\"";
            
            // Clear previous results
            resultsList.innerHTML = "";
            
            // Add results to the list
            for (var i = 0; i < results.length; i++) {
                var result = results[i];
                
                var resultItem = document.createElement("div");
                resultItem.className = "result-item";
                
                var resultPosition = document.createElement("div");
                resultPosition.className = "result-position";
                resultPosition.innerHTML = "<span>Position</span><span class='position-badge'>Decimal " + result.position + "</span>";
                
                var resultContext = document.createElement("div");
                resultContext.className = "result-context";
                
                var contextLabel = document.createElement("div");
                contextLabel.className = "context-label";
                contextLabel.textContent = "Context";
                
                var contextValue = document.createElement("div");
                contextValue.className = "context-value";
                contextValue.innerHTML = "..." + result.prefix + "<span class='highlight'>" + result.query + "</span>" + result.suffix + "...";
                
                resultContext.appendChild(contextLabel);
                resultContext.appendChild(contextValue);
                
                resultItem.appendChild(resultPosition);
                resultItem.appendChild(resultContext);
                
                resultsList.appendChild(resultItem);
            }
            
            // Show results section
            resultsSection.style.display = "block";
        }
        
        // Add event listener for Enter key
        document.getElementById("searchInput").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                event.preventDefault();
                searchPi();
            }
        });

        // Apply dark mode immediately if user preference is set
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            // We'll update the button text after DOM is fully loaded
        }
    </script>
</body>
</html>